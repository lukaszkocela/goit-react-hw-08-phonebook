"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[377],{2377:function(e,r,n){n.r(r),n.d(r,{default:function(){return q}});var t=n(9439),o=n(9218),a=n(9434),s=n(3165),l=n(2791),i=n(6151),c=n(3634),u=n(6916),d=function(e){return e.contacts.isLoading},x=function(e){return e.contacts.error},h=function(e){return e.contacts.contacts},m=(0,u.P1)([h,function(e){return e.filters}],(function(e,r){return""===r?e:e.filter((function(e){var n;return null!==(n=e.name.toLowerCase().includes(r.filter))&&void 0!==n?n:[]}))})),p=n(184),g={container:["flex","justify-center"].join(" "),form:["flex","flex-col","items-start","max-w-sm"].join(" "),label:["flex","flex-col","mb-5","w-50"].join(" ")},b=function(e){var r=e.onSubmit;return(0,p.jsx)("div",{className:g.container,children:(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(e)},className:g.form,children:[(0,p.jsx)("label",{className:g.label,children:(0,p.jsx)(o.Z,{type:"text",size:"small",name:"name",label:"Name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Lucas, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})}),(0,p.jsx)("label",{className:g.label,children:(0,p.jsx)(o.Z,{type:"tel",size:"small",name:"number",label:"Number",title:"Please enter the correct number xxx-xxx-xxx",required:!0})}),(0,p.jsx)(i.Z,{type:"submit",variant:"contained",style:{margin:"0 auto"},children:"Save"})]})})},j=n(4554),f=n(8595),v={box:["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","bg-gray-100","p-10","rounded-2xl","shadow-2xl"].join(" "),text:["text-center","pb-7","uppercase","font-bold"].join(" ")},C=function(e){var r=e.open,n=e.handleModalClose,t=e.children,o=e.title;return(0,p.jsx)(f.Z,{open:r,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,p.jsxs)(j.Z,{className:v.box,children:[(0,p.jsx)("h3",{className:v.text,children:o}),t]})})},Z=n(5206),k=(n(5462),["flex","items-center","justify-evenly","border-b-4","border-gray-50","p-2","mb-5"].join(" ")),P=function(){var e=(0,l.useState)(!1),r=(0,t.Z)(e,2),n=r[0],u=r[1],d=(0,a.I0)(),x=(0,a.v9)(h).map((function(e){return e.name}));return(0,p.jsxs)("div",{className:k,children:[(0,p.jsx)(o.Z,{size:"small",label:"Find contact by name",onChange:function(e){return d((0,s.W)(e.target.value))}}),(0,p.jsx)(i.Z,{onClick:function(){return u(!0)},variant:"contained",children:"Add new contact"}),(0,p.jsx)(C,{open:n,handleModalClose:function(){return u(!1)},title:"Add contact",children:(0,p.jsx)(b,{onSubmit:function(e){e.preventDefault();var r=e.target,n=r.elements.name.value,t=r.elements.number.value,o={name:n,number:t};if(x.includes(n))return Z.Am.error("".concat(n," is alredy in contacts"),{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!/^[ ',-\.A-Za-z\xC0-\xCF\xD1-\xD6\xD8-\xDD\xDF-\xE5\xE7-\xF6\xF8-\xFD\xFF\u0104-\u0107\u010C\u010D\u0116-\u0119\u012E\u012F\u0141-\u0144\u0152\u0160\u0161\u016A\u016B\u0172\u0173\u0178-\u017E\u2202]+$/.test(n))return Z.Am.error("Please enter right name",{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{3})$/.test(t))return Z.Am.error("Please enter the correct number xxx-xxx-xxx",{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});d((0,c.ky)(o)),u(!1),Z.Am.success("Contact added succesfully",{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),r.reset()}})}),(0,p.jsx)(Z.Ix,{position:"top-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})},O=n(383),y=n(645),D=n(5643),F=n(9836),A=n(6890),w=n(5855),B=n(3994),N=n(3382),S=n(3768),E=n(3400),H=n(799),z=n(5289),I=n(5661),L=n(9157),M=n(1691),T=n(7123),W=function(){var e=(0,l.useState)(""),r=(0,t.Z)(e,2),n=r[0],o=r[1],s=(0,l.useState)(0),u=(0,t.Z)(s,2),d=u[0],x=u[1],h=(0,l.useState)(5),g=(0,t.Z)(h,2),j=g[0],f=g[1],v=(0,l.useState)(!1),k=(0,t.Z)(v,2),P=k[0],W=k[1],$=(0,l.useState)(!1),_=(0,t.Z)($,2),q=_[0],G=_[1],J=(0,a.v9)(m),K=(0,a.I0)(),R=function(e){o(e.currentTarget.id),G(!0)},Y=function(){G(!1)},Q=function(e){o(e.currentTarget.id),W(!0)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(F.Z,{children:[(0,p.jsx)(A.Z,{children:(0,p.jsxs)(w.Z,{children:[(0,p.jsx)(B.Z,{sx:{fontWeight:800,width:"40%"},children:"Name"},"name"),(0,p.jsx)(B.Z,{sx:{fontWeight:800},children:"Phone number"},"number"),(0,p.jsx)(B.Z,{align:"right",sx:{fontWeight:800},children:"Actions"})]})}),(0,p.jsx)(N.Z,{children:J.slice(d*j,d*j+j).map((function(e){return(0,p.jsxs)(w.Z,{children:[(0,p.jsx)(B.Z,{children:e.name}),(0,p.jsx)(B.Z,{children:e.number}),(0,p.jsxs)(B.Z,{align:"right",children:[(0,p.jsx)(S.Z,{title:"Edit",children:(0,p.jsx)(E.Z,{"aria-label":"edit",id:e.id,sx:{":hover":{color:"#22dc0d"}},onClick:Q,children:(0,p.jsx)(y.Z,{})})}),(0,p.jsx)(S.Z,{title:"Delete",children:(0,p.jsx)(E.Z,{"aria-label":"delete",sx:{color:D.Z[900],":hover":{color:"#bf360c"}},id:e.id,onClick:R,children:(0,p.jsx)(O.Z,{fontSize:"small"})})})]})]},e.id)}))})]}),(0,p.jsx)(H.Z,{rowsPerPageOptions:[5,10],component:"div",count:J.length,rowsPerPage:j,page:d,onPageChange:function(e,r){return x(r)},onRowsPerPageChange:function(e){f(parseInt(e.target.value),10),x(0)}}),(0,p.jsx)(C,{open:P,handleModalClose:function(){return W(!1)},title:"Edit contact",children:(0,p.jsx)(b,{onSubmit:function(e){e.preventDefault();var r=e.target,t=r.elements.name.value,o=r.elements.number.value,a={name:t,number:o,contactId:n};if(!/^[ ',-\.A-Za-z\xC0-\xCF\xD1-\xD6\xD8-\xDD\xDF-\xE5\xE7-\xF6\xF8-\xFD\xFF\u0104-\u0107\u010C\u010D\u0116-\u0119\u012E\u012F\u0141-\u0144\u0152\u0160\u0161\u016A\u016B\u0172\u0173\u0178-\u017E\u2202]+$/.test(t))return Z.Am.error("Please enter right name",{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{3})$/.test(o))return Z.Am.error("Please enter the correct number xxx-xxx-xxx",{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});K((0,c.mP)(a)),Z.Am.info("Contact changed",{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),r.reset()}})}),(0,p.jsxs)(z.Z,{open:q,onClose:Y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,p.jsx)(I.Z,{id:"alert-dialog-title",children:"Delete Contact"}),(0,p.jsx)(L.Z,{children:(0,p.jsx)(M.Z,{id:"alert-dialog-description",children:"Are you sure you want to delete contact?"})}),(0,p.jsxs)(T.Z,{children:[(0,p.jsx)(i.Z,{onClick:Y,children:"No"}),(0,p.jsx)(i.Z,{onClick:function(){K((0,c.GK)(n)),Z.Am.success("Contact deleted",{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},autoFocus:!0,variant:"contained",children:"Yes, I'm sure"})]})]}),(0,p.jsx)(Z.Ix,{position:"top-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})},$=n(6907),_={container:["pt-10"].join(" "),phonebook:["text-5xl","pb-14","text-center","uppercase"].join(" ")},q=function(){var e=(0,a.v9)(d),r=(0,a.v9)(x);return(0,p.jsxs)("div",{className:_.container,children:[(0,p.jsx)($.B6,{children:(0,p.jsx)($.ql,{children:(0,p.jsx)("title",{children:"Phonebook"})})}),(0,p.jsx)("h2",{className:_.phonebook,children:"Phonebook"}),(0,p.jsx)(P,{}),e?(0,p.jsx)("p",{children:"Loading contacts..."}):(0,p.jsx)(W,{}),r&&(0,p.jsx)("p",{children:"Data loading error"})]})}}}]);
//# sourceMappingURL=377.c8fd6515.chunk.js.map